<section class="author-card" th:fragment="single(users)">

    <th:block th:each="user : ${ users}">
        <section class="author-card" th:fragment="single(user)">
            <th:block th:if="${user.avatar != ''}">
                <img class="author-profile-image" th:src="${user.avatar}" th:alt="${user.displayName}" />
            </th:block>

            <th:block th:if="${user.avatar == ''}">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                    <path fill="currentColor"
                        d="M16 8a5 5 0 1 0 5 5a5 5 0 0 0-5-5Zm0 8a3 3 0 1 1 3-3a3.003 3.003 0 0 1-3 3Z" />
                    <path fill="currentColor"
                        d="M16 2a14 14 0 1 0 14 14A14.016 14.016 0 0 0 16 2Zm-6 24.377V25a3.003 3.003 0 0 1 3-3h6a3.003 3.003 0 0 1 3 3v1.377a11.899 11.899 0 0 1-12 0Zm13.992-1.451A5.002 5.002 0 0 0 19 20h-6a5.002 5.002 0 0 0-4.992 4.926a12 12 0 1 1 15.985 0Z" />
                </svg>
            </th:block>
            <section class="author-card-content">
                <h4 class="author-card-name"><a th:href="${site.url}" th:text="${user.displayName}"></a></h4>
                <th:block th:if="${user.bio}">
                    <p th:text="${user.bio}"></p>
                </th:block>
                <th:block th:unless="${user.bio}">
                    <p>Read <a th:href="${site.url}">more posts</a> by this author.</p>
                </th:block>
            </section>
        </section>
        <div class="post-full-footer-right">
            <a class="author-card-button" th:href="${site.url}">Read More</a>
        </div>
    </th:block>

    <script>
        // Adds delay to author card dropups to disappear. This gives enough
        // time for the user to interact with the author card while they move
        // the mouse from the avatar to the card. Also makes space for the
        // interacted avatar.
        $(document).ready(function () {

            var hoverTimeout;

            $('.author-list-item').hover(function () {
                var $this = $(this);

                clearTimeout(hoverTimeout);

                $('.author-card').removeClass('hovered');
                $(this).children('.author-card').addClass('hovered');

            }, function () {
                var $this = $(this);

                hoverTimeout = setTimeout(function () {
                    $this.children('.author-card').removeClass('hovered');
                }, 800);
            });

        });
    </script>
</section>